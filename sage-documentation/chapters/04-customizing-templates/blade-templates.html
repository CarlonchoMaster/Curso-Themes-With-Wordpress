
<!DOCTYPE HTML>
<html lang="" >
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="robots" content="noindex, nofollow">
    <title>Blade templates | GitBook</title>
    <meta name="description" content="">
    
    
    
  
      
        
          <link rel="stylesheet" href="../../gitbook/gitbook-plugin-advanced-emoji/emoji-website.css">
        
      
        
          <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
        
      
    

  

  
    
      <link rel="stylesheet" href="../../website-1522296907282.css">
    
  
    
  
    
  
    
  

    
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="shortcut icon" href="../../assets/images/favicon.ico" type="image/x-icon">

  
    <link rel="next" href="template-files.html">
  
  
    <link rel="prev" href="./">
  

  </head>
  <body>
    
<div class="wrap">
  <main class="book">
    <aside class="book-summary">
      
        
        
          <nav role="navigation">
            


<ol class="summary">
  
  

  

  
    
    
  
    <li class="chapter " data-level="1" data-path="../../">
      
        
          <a href="../../index.html">
        
      
      
      Introduction
      
        </a>
      

      
    </li>
  
    <li class="chapter " data-level="2" data-path="../01-what-is-sage/">
      
        
          <a href="../01-what-is-sage/index.html">
        
      
      
      What is Sage?
      
        </a>
      

      
    </li>
  
    <li class="chapter " data-level="3" data-path="../02-why-sage/">
      
        
          <a href="../02-why-sage/index.html">
        
      
      
      Why Sage?
      
        </a>
      

      
    </li>
  
    <li class="chapter " data-level="4" data-path="../03-starting-a-project/">
      
        
          <a href="../03-starting-a-project/index.html">
        
      
      
      Starting a project
      
        </a>
      

      
      <ol class="articles">
        
  
    <li class="chapter " data-level="4.1" data-path="../03-starting-a-project/installing-the-sage-starter-theme.html">
      
        
          <a href="../03-starting-a-project/installing-the-sage-starter-theme.html">
        
      
      
      Installing the Sage starter theme
      
        </a>
      

      
    </li>
  
    <li class="chapter " data-level="4.2" data-path="../03-starting-a-project/theme-setup.html">
      
        
          <a href="../03-starting-a-project/theme-setup.html">
        
      
      
      Theme setup
      
        </a>
      

      
    </li>
  
    <li class="chapter " data-level="4.3" data-path="../03-starting-a-project/planning-out-the-theme.html">
      
        
          <a href="../03-starting-a-project/planning-out-the-theme.html">
        
      
      
      Planning out the theme
      
        </a>
      

      
    </li>
  

      </ol>
      
    </li>
  
    <li class="chapter " data-level="5" data-path="./">
      
        
          <a href="./index.html">
        
      
      
      Customizing templates
      
        </a>
      

      
      <ol class="articles">
        
  
    <li class="chapter active" data-level="5.1" data-path="blade-templates.html">
      
        
          <a href="blade-templates.html">
        
      
      
      Blade templates
      
        </a>
      

      
    </li>
  
    <li class="chapter " data-level="5.2" data-path="template-files.html">
      
        
          <a href="template-files.html">
        
      
      
      Template files
      
        </a>
      

      
    </li>
  
    <li class="chapter " data-level="5.3" data-path="building-template-partials.html">
      
        
          <a href="building-template-partials.html">
        
      
      
      Building template partials
      
        </a>
      

      
    </li>
  
    <li class="chapter " data-level="5.4" data-path="responsive-images-and-post-thumbnails.html">
      
        
          <a href="responsive-images-and-post-thumbnails.html">
        
      
      
      Responsive images & post thumbnails
      
        </a>
      

      
    </li>
  
    <li class="chapter " data-level="5.5" data-path="sidebar.html">
      
        
          <a href="sidebar.html">
        
      
      
      Displaying the sidebar
      
        </a>
      

      
    </li>
  

      </ol>
      
    </li>
  
    <li class="chapter " data-level="6" data-path="../05-customizing-the-front-end/">
      
        
          <a href="../05-customizing-the-front-end/index.html">
        
      
      
      Customizing the front-end
      
        </a>
      

      
      <ol class="articles">
        
  
    <li class="chapter " data-level="6.1" data-path="../05-customizing-the-front-end/css-setup-and-organization.html">
      
        
          <a href="../05-customizing-the-front-end/css-setup-and-organization.html">
        
      
      
      CSS setup and organization
      
        </a>
      

      
    </li>
  
    <li class="chapter " data-level="6.2" data-path="../05-customizing-the-front-end/default-css-and-js.html">
      
        
          <a href="../05-customizing-the-front-end/default-css-and-js.html">
        
      
      
      Default CSS and JS
      
        </a>
      

      
    </li>
  
    <li class="chapter " data-level="6.3" data-path="../05-customizing-the-front-end/bootstrap.html">
      
        
          <a href="../05-customizing-the-front-end/bootstrap.html">
        
      
      
      Bootstrap
      
        </a>
      

      
    </li>
  
    <li class="chapter " data-level="6.4" data-path="../05-customizing-the-front-end/browsersync.html">
      
        
          <a href="../05-customizing-the-front-end/browsersync.html">
        
      
      
      Browsersync
      
        </a>
      

      
    </li>
  
    <li class="chapter " data-level="6.5" data-path="../05-customizing-the-front-end/javascript-and-dom-based-routing.html">
      
        
          <a href="../05-customizing-the-front-end/javascript-and-dom-based-routing.html">
        
      
      
      JavaScript and DOM-based routing
      
        </a>
      

      
    </li>
  
    <li class="chapter " data-level="6.6" data-path="../05-customizing-the-front-end/3rd-party-packages.html">
      
        
          <a href="../05-customizing-the-front-end/3rd-party-packages.html">
        
      
      
      3rd party packages
      
        </a>
      

      
    </li>
  
    <li class="chapter " data-level="6.7" data-path="../05-customizing-the-front-end/asset-paths-in-css-and-templates.html">
      
        
          <a href="../05-customizing-the-front-end/asset-paths-in-css-and-templates.html">
        
      
      
      Asset paths in CSS and templates
      
        </a>
      

      
    </li>
  

      </ol>
      
    </li>
  
    <li class="chapter " data-level="7" data-path="../06-theme-functionality/">
      
        
          <a href="../06-theme-functionality/index.html">
        
      
      
      Theme functionality
      
        </a>
      

      
      <ol class="articles">
        
  
    <li class="chapter " data-level="7.1" data-path="../06-theme-functionality/adding-additional-files.html">
      
        
          <a href="../06-theme-functionality/adding-additional-files.html">
        
      
      
      Adding additional files
      
        </a>
      

      
    </li>
  
    <li class="chapter " data-level="7.2" data-path="../06-theme-functionality/namespaces.html">
      
        
          <a href="../06-theme-functionality/namespaces.html">
        
      
      
      Namespaces
      
        </a>
      

      
    </li>
  
    <li class="chapter " data-level="7.3" data-path="../06-theme-functionality/take-advantage-of-newer-php-features.html">
      
        
          <a href="../06-theme-functionality/take-advantage-of-newer-php-features.html">
        
      
      
      Take advantage of newer PHP features
      
        </a>
      

      
    </li>
  

      </ol>
      
    </li>
  
    <li class="chapter " data-level="8" data-path="../07-theme-customizations/">
      
        
          <a href="../07-theme-customizations/index.html">
        
      
      
      Theme customizations
      
        </a>
      

      
      <ol class="articles">
        
  
    <li class="chapter " data-level="8.1" data-path="../07-theme-customizations/wordpress-customizer.html">
      
        
          <a href="../07-theme-customizations/wordpress-customizer.html">
        
      
      
      WordPress Customizer
      
        </a>
      

      
    </li>
  
    <li class="chapter " data-level="8.2" data-path="../07-theme-customizations/advanced-custom-fields.html">
      
        
          <a href="../07-theme-customizations/advanced-custom-fields.html">
        
      
      
      Advanced Custom Fields
      
        </a>
      

      
    </li>
  

      </ol>
      
    </li>
  
    <li class="chapter " data-level="9" data-path="../08-theme-deployment/">
      
        
          <a href="../08-theme-deployment/index.html">
        
      
      
      Theme deployment
      
        </a>
      

      
    </li>
  
    <li class="chapter " data-level="10" data-path="../09-theme-troubleshooting/">
      
        
          <a href="../09-theme-troubleshooting/index.html">
        
      
      
      Theme troubleshooting
      
        </a>
      

      
    </li>
  
    <li class="chapter " data-level="11" data-path="../10-theme-updates-and-maintenance/">
      
        
          <a href="../10-theme-updates-and-maintenance/index.html">
        
      
      
      Theme updates and maintenance
      
        </a>
      

      
    </li>
  
    <li class="chapter " data-level="12" data-path="../11-resources/">
      
        
          <a href="../11-resources/index.html">
        
      
      
      Resources
      
        </a>
      

      
    </li>
  
    <li class="chapter " data-level="13" data-path="../../OUTRO.html">
      
        
          <a href="../.././OUTRO.html">
        
      
      
      Wrapping up
      
        </a>
      

      
    </li>
  
    <li class="chapter " data-level="14" data-path="../../CHANGELOG.html">
      
        
          <a href="../.././CHANGELOG.html">
        
      
      
      CHANGELOG
      
        </a>
      

      
    </li>
  

  
</ul>


          </nav>

          <ul class="list-inline text-xs-center mt-2">
            <li class="list-inline-item"><a href="https://discourse.roots.io/c/sage"><i class="fa fa-2x fa-comment" aria-hidden="true"></i></a></li>
            <li class="list-inline-item"><a href="https://github.com/roots/sage"><i class="fa fa-2x fa-github" aria-hidden="true"></i></a></li>
            <li class="list-inline-item"><a href="https://twitter.com/rootswp"><i class="fa fa-2x fa-twitter" aria-hidden="true"></i></a></li>
          </ul>
        
      
    </aside>

    <article class="book-body">
      

        
          <!-- 


<div class="book-header" role="navigation">
  
</div>



 -->
          <!--  -->
          
            <h1 id="blade-templates">Blade templates</h1>
<p>Sage uses <a href="https://laravel.com/docs/5.5/blade" target="_blank">Laravel&apos;s Blade</a> templating<span class="widont">&#xA0;</span>engine.</p>
<p>Ever heard of Twig or Mustache? Blade accomplishes the same goals but also doesn&apos;t restrict you from using <span class="caps">PHP</span> directly in the<span class="widont">&#xA0;</span>templates.</p>
<blockquote>
<p>Blade syntax is more elegant, concise, readable, more powerful, and easier to write than just <span class="caps">PHP</span> tags. You could even bind <span class="caps">PHP</span> data to Vue.js properties using Blade.
The most popular <span class="caps">PHP</span> framework Laravel has been using blade for a while now, and has been nothing but great.
You shouldn&#x2019;t be against it just because it&#x2019;s one more thing you have to learn. Functionality-wise, Blade is just amazing <span class="caps">IMO</span>.
<br><br>&#x2014; webber on Roots<span class="widont">&#xA0;</span>Discourse</p>
</blockquote>
<p>Some of the benefits that come with using a templating engine<span class="widont">&#xA0;</span>include:</p>
<ul>
<li><p><strong>Template inheritance</strong>
In previous versions of Sage we accomplished template inheritance with the theme wrapper. We&apos;re about to go over this more, but it comes down to staying <span class="caps">DRY</span> and avoiding repeating yourself across your template<span class="widont">&#xA0;</span>files.</p>
</li>
<li><p><strong>Separation of data from views</strong>
Pass your logic to template files instead of including <span class="caps">PHP</span> in your views<span class="widont">&#xA0;</span>files.</p>
</li>
<li><p><strong>Automatically escaped data</strong>
When you include data with Blade, such as with <code>{{ get_post_meta(get_the_ID(), &apos;example&apos;, true) }}</code> (or <code>{{ get_field(&apos;example&apos;) }}</code> if you use <span class="caps">ACF</span>), the data is automatically<span class="widont">&#xA0;</span>escaped.</p>
<p>This means that you don&apos;t need to use <code>esc_url</code> or other sanitizing functions in WordPress when outputting data in<span class="widont">&#xA0;</span>templates.</p>
</li>
<li><p><strong>Beautiful looking code</strong>
The Blade syntax is pretty<span class="widont">&#xA0;</span>clean!</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">article</span> @<span class="hljs-attr">php</span>(<span class="hljs-attr">post_class</span>())&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">header</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;entry-title&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;{{ get_permalink() }}&quot;</span>&gt;</span>{{ get_the_title() }}<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
    @include(&apos;partials/entry-meta&apos;)
  <span class="hljs-tag">&lt;/<span class="hljs-name">header</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;entry-summary&quot;</span>&gt;</span>
    @php(the_excerpt())
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">article</span>&gt;</span>
</code></pre>
</li>
</ul>
<p>There&apos;s a few WordPress themes and frameworks using Twig, such as <a href="https://upstatement.com/timber/" target="_blank">Timber</a>. We chose to use Blade because the implementation was very simple and straightforward. The amount of code required to pull it off was minimal. Several members of the Roots team have been using Blade on a regular basis on their Laravel projects and it&apos;s matured as project over the past several<span class="widont">&#xA0;</span>years.</p>
<p>Twig doesn&apos;t allow you to call <span class="caps">PHP</span> functions from templates, which is another reason why the Blade integration is so<span class="widont">&#xA0;</span>simple.</p>
<h2 id="template-inheritance">Template inheritance</h2>
<p>In your typical WordPress theme, every page template will look something like the<span class="widont">&#xA0;</span>following:</p>
<pre><code class="lang-html">get_header(); ?&gt;

  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;primary&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;content-area&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">main</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;main&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;site-main&quot;</span> <span class="hljs-attr">role</span>=<span class="hljs-string">&quot;main&quot;</span>&gt;</span>

      <span class="php"><span class="hljs-meta">&lt;?php</span>
      <span class="hljs-keyword">while</span> ( have_posts() ) : the_post();
        get_template_part( <span class="hljs-string">&apos;template-parts/content&apos;</span>, <span class="hljs-string">&apos;page&apos;</span> );
        <span class="hljs-comment">// If comments are open or we have at least one comment, load up the comment template.</span>
        <span class="hljs-keyword">if</span> ( comments_open() || get_comments_number() ) :
          comments_template();
        <span class="hljs-keyword">endif</span>;
      <span class="hljs-keyword">endwhile</span>; <span class="hljs-comment">// End of the loop.</span>
      <span class="hljs-meta">?&gt;</span></span>

    <span class="hljs-tag">&lt;/<span class="hljs-name">main</span>&gt;</span><span class="hljs-comment">&lt;!-- #main --&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><span class="hljs-comment">&lt;!-- #primary --&gt;</span>

<span class="php"><span class="hljs-meta">&lt;?php</span>
get_sidebar();
get_footer();
</span></code></pre>
<p>Even though we know that every template will take this base format and render the header, footer, sidebar calls each time, we still need to continuously repeat the<span class="widont">&#xA0;</span>code.</p>
<p>One of the biggest benefits of using Blade templates is the ability to remove any repeated markup from individual templates and put it into a single file. This file, <code>resources/views/layouts/app.blade.php</code>, becomes the base layout file. By doing this we can put the focus entirely on the page specific markup and loop, simplifying our templates to look like<span class="widont">&#xA0;</span>this:</p>
<pre><code class="lang-php">@extends(<span class="hljs-string">&apos;layouts.app&apos;</span>)

@section(<span class="hljs-string">&apos;content&apos;</span>)
  @<span class="hljs-keyword">while</span>(have_posts()) @php(the_post())
    @<span class="hljs-keyword">include</span>(<span class="hljs-string">&apos;partials.page-header&apos;</span>)
    @<span class="hljs-keyword">include</span>(<span class="hljs-string">&apos;partials.content-page&apos;</span>)
  @<span class="hljs-keyword">endwhile</span>
@endsection
</code></pre>
<p>It&#x2019;s neat. It&#x2019;s tidy. You never need to make calls to <code>get_header()</code>, <code>get_footer()</code>, or <code>get_sidebar()</code> again. You can also refactor the base layout of your site by editing <code>app.blade.php</code>.</p>
<h2 id="passing-data-to&#xA0;templates">Passing data to<span class="widont">&#xA0;</span>templates</h2>
<p>Sage includes a <code>sage/template/{$class}/data</code> filter that can be used to pass data to templates. This is the most simple way to pass data. The filter is based of body classes and can be used to target specific templates, for<span class="widont">&#xA0;</span>example:</p>
<ul>
<li><code>sage/template/home/data</code> &#x2014; Home<span class="widont">&#xA0;</span>page</li>
<li><code>sage/template/about/data</code> &#x2014; About<span class="widont">&#xA0;</span>page</li>
<li><code>sage/template/page/data</code> &#x2014; All<span class="widont">&#xA0;</span>pages</li>
<li><code>sage/template/post-type-archive-event/data</code> &#x2014; <code>event</code> post type<span class="widont">&#xA0;</span>archive</li>
<li><code>sage/template/single-event/data</code> &#x2014; <code>event</code> single post<span class="widont">&#xA0;</span>template</li>
</ul>
<p>Note: Sage comes ready for you to modify the <code>body_class</code> by editing the filter at the top of <code>app/filters.php</code>.</p>
<p>In the example below we&apos;re passing the the values of two <span class="caps">ACF</span> fields, <code>header_image</code> and <code>header_content</code>, to all<span class="widont">&#xA0;</span>pages:</p>
<pre><code class="lang-php">add_filter(<span class="hljs-string">&apos;sage/template/page/data&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(array $data)</span> </span>{
    $data[<span class="hljs-string">&apos;header_image&apos;</span>] = get_field(<span class="hljs-string">&apos;header_image&apos;</span>);
    $data[<span class="hljs-string">&apos;header_content&apos;</span>] = get_field(<span class="hljs-string">&apos;header_content&apos;</span>);
    <span class="hljs-keyword">return</span> $data;
});
</code></pre>
<p>In your Blade templates for pages you can now use <code>{{ $header_image }}</code> and <code>{{ $header_content }}</code> to output the<span class="widont">&#xA0;</span>data.</p>
<h3 id="global-data">Global data</h3>
<p>You can use <code>sage(&apos;blade&apos;)-&gt;share</code> to pass data to all<span class="widont">&#xA0;</span>views:</p>
<pre><code class="lang-php">add_action(<span class="hljs-string">&apos;the_post&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    sage(<span class="hljs-string">&apos;blade&apos;</span>)-&gt;share(<span class="hljs-string">&apos;links&apos;</span>, [
        <span class="hljs-string">&apos;facebook&apos;</span> =&gt; <span class="hljs-string">&apos;https://facebook.com/rootswp&apos;</span>,
        <span class="hljs-string">&apos;twitter&apos;</span> =&gt; <span class="hljs-string">&apos;https://twitter.com/rootswp&apos;</span>
    ]);
});
</code></pre>
<p>Now from within any Blade template you can use <code>{{ $links[&apos;facebook&apos;] }}</code> and <code>{{ $links[&apos;twitter&apos;] }}</code> to output the<span class="widont">&#xA0;</span>data.</p>
<h3 id="controller">Controller</h3>
<p><a href="https://github.com/soberwp/controller" target="_blank"><strong>Controller</strong></a> for Sage 9, written by Darren Jacoby, offers another method for passing data to templates. The Controller plugin works off of files in the <code>app/controllers/</code> directory.</p>
<p>To pull off passing data to the same templates we used as examples above, we would setup the following<span class="widont">&#xA0;</span>files:</p>
<ul>
<li><code>app/controllers/front-page.php</code></li>
<li><code>app/controllers/archive-event.php</code></li>
<li><code>app/controllers/single-event.php</code></li>
<li><code>app/controllers/template-about.php</code></li>
</ul>
<p>The <a href="https://github.com/soberwp/controller#examples" target="_blank">Controller examples</a> show the needed code to pass data to your templates. In the example below we&apos;re passing the values of three <span class="caps">ACF</span> fields to the<span class="widont">&#xA0;</span>template:</p>
<pre><code class="lang-php"><span class="hljs-meta">&lt;?php</span> <span class="hljs-comment">// @ app/controllers/single-event.php</span>

<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">Sober</span>\<span class="hljs-title">Controller</span>\<span class="hljs-title">Controller</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SingleEvent</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Controller</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">eventStartingLocationAddress</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-keyword">return</span> get_field(<span class="hljs-string">&apos;event_starting_location_address&apos;</span>);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">eventStartingLocationDescription</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-keyword">return</span> get_field(<span class="hljs-string">&apos;event_starting_location_description&apos;</span>);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">eventDuration</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-keyword">return</span> wpautop(get_field(<span class="hljs-string">&apos;event_duration&apos;</span>));
    }
}
</code></pre>
<p>These variables are now available to use in the single event<span class="widont">&#xA0;</span>template:</p>
<pre><code>{!! $event_starting_location_address !!}
{!! $event_starting_location_description !!}
{!! $event_duration !!}
</code></pre><p>Global data with the Controller plugin is handled by the <code>resources/controllers/app.php</code> file:</p>
<pre><code class="lang-php"><span class="hljs-meta">&lt;?php</span>

<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">Sober</span>\<span class="hljs-title">Controller</span>\<span class="hljs-title">Controller</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Controller</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">headerImage</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-keyword">return</span> get_field(<span class="hljs-string">&apos;header_image&apos;</span>);
    }
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">headerContent</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-keyword">return</span> get_field(<span class="hljs-string">&apos;header_content&apos;</span>);
    }
}
</code></pre>
<h2 id="referencing-front-end-assets-in&#xA0;templates">Referencing front-end assets in<span class="widont">&#xA0;</span>templates</h2>
<p>Sage includes an <code>@asset</code> directive to use in template files for referencing any of the files that get built from your <code>resources/assets/</code> directory into the <code>dist/</code> folder.</p>
<p>Typically you&apos;ll mostly be using the <code>@asset</code> directive to include<span class="widont">&#xA0;</span>images:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;@asset(&apos;images/stella.jpg&apos;)&quot;</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;Stella &#x1F436;&quot;</span>&gt;</span>
</code></pre>
<p>The output looks<span class="widont">&#xA0;</span>like:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;http://example.dev/app/themes/sage/dist/images/stella_264f29a6.jpg&quot;</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;Stella &#x1F436;&quot;</span>&gt;</span>
</code></pre>
<h2 id="blade-directives">Blade directives</h2>
<p>Directives are custom tags that you use in Blade templates. The <code>@asset</code> directive discussed above is registered in <code>app/setup.php</code>:</p>
<pre><code class="lang-php"><span class="hljs-comment">/**
 * Create <span class="hljs-doctag">@asset</span>() Blade directive
 */</span>
sage(<span class="hljs-string">&apos;blade&apos;</span>)-&gt;compiler()-&gt;directive(<span class="hljs-string">&apos;asset&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">($asset)</span> </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;&lt;?= App\\asset_path({$asset}); ?&gt;&quot;</span>;
});
</code></pre>
<p>You can copy this same structure to setup your own directives. Here&apos;s an example of a <code>@icon</code> directive for Font<span class="widont">&#xA0;</span>Awesome:</p>
<pre><code class="lang-php"><span class="hljs-comment">/**
 * Create <span class="hljs-doctag">@icon</span>() Blade directive
 *
 * Usage: <span class="hljs-doctag">@icon</span>(&apos;google-plus&apos;)
 */</span>
sage(<span class="hljs-string">&apos;blade&apos;</span>)-&gt;compiler()-&gt;directive(<span class="hljs-string">&apos;icon&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">($icon)</span> </span>{
    <span class="hljs-keyword">return</span> sprintf(<span class="hljs-string">&apos;&lt;span aria-hidden=&quot;true&quot; class=&quot;fa fa-fw fa-%s&quot;&gt;&lt;/span&gt;&apos;</span>, trim($icon, <span class="hljs-string">&quot;&apos;&quot;</span>));
});
</code></pre>
<p>Another simple example is this <code>@shortcode</code> directive, courtesy of Julien<span class="widont">&#xA0;</span>Melissas:</p>
<pre><code class="lang-php"><span class="hljs-comment">/**
 * Create <span class="hljs-doctag">@shortcode</span>() Blade directive
 *
 * Usage: <span class="hljs-doctag">@shortcode</span>(&apos;[share title=&quot;Share this post&quot;]&apos;)
 */</span>
sage(<span class="hljs-string">&apos;blade&apos;</span>)-&gt;compiler()-&gt;directive(<span class="hljs-string">&apos;shortcode&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">($shortcode)</span> </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-string">&apos;&lt;?= do_shortcode(\&apos;&apos;</span>. $shortcode .<span class="hljs-string">&apos;\&apos;); ?&gt;&apos;</span>;
});
</code></pre>
<p>The <a href="https://laracasts.com/discuss/channels/laravel/useful-blade-directives" target="_blank">Useful Blade Directives</a> thread on LaraCasts has examples of non-WordPress specific directives including <code>@truncate</code>, <code>@varDump</code>, and more.</p>
<p><img src="../../assets/images/go-crazy-with-blade-directives.png" alt="Go crazy with Blade directives"></p>
<h2 id="rendering-blade-templates-from-php-eg-hooksactions-and&#xA0;filters">Rendering Blade templates from <span class="caps">PHP</span> (eg. hooks/actions and<span class="widont">&#xA0;</span>filters)</h2>
<p>Find yourself needing to render a Blade template with <span class="caps">PHP</span>? Use the <code>template</code> helper function available in the <code>App</code> namespace.</p>
<p>Here&apos;s an example of adding a <code>[reviews]</code> shortcode that renders the <code>partials/reviews.blade.php</code> file:</p>
<pre><code class="lang-php">add_shortcode(<span class="hljs-string">&apos;reviews&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">($atts)</span> </span>{
    <span class="hljs-keyword">return</span> \App\template(<span class="hljs-string">&apos;partials.reviews&apos;</span>);
});
</code></pre>
<p>Here&apos;s an example of adding a Blade template to the end of a WooCommerce<span class="widont">&#xA0;</span>product:</p>
<pre><code class="lang-php">add_action(<span class="hljs-string">&apos;woocommerce_after_single_product&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">echo</span> \App\template(<span class="hljs-string">&apos;partials.product-bottom&apos;</span>);
}, <span class="hljs-number">10</span>);
</code></pre>
<p>Need to also pass data from Controller to the shortcode? See <a href="https://discourse.roots.io/t/shortcodes-that-use-blade-templates-and-get-controller-data/9946" target="_blank">MWDelaney&apos;s<span class="widont">&#xA0;</span>solution</a></p>
<h2 id="other-tips">Other tips</h2>
<ul>
<li><p>Return controller data to your dev tools console via Xdebug with Nat Hobson&apos;s <a href="https://discourse.roots.io/t/a-sage-9-acf-debugging-technique/10993" target="_blank"><span class="caps">ACF</span> debugging<span class="widont">&#xA0;</span>technique</a></p>
</li>
<li><p>The <code>$loop</code> variable (available only within <code>foreach</code> loops) can help with any conditionals you might need for things like first and last iterations, see <a href="https://laravel.com/docs/5.5/blade#the-loop-variable" target="_blank">Blade<span class="widont">&#xA0;</span>docs</a></p>
</li>
<li><p>Blade <code>@stacks</code> allow you to push to another view or layout, see Michael&apos;s thread on how they <a href="https://discourse.roots.io/t/how-blade-stacks-make-my-life-better/10121" target="_blank">made his life<span class="widont">&#xA0;</span>better</a></p>
</li>
<li><p>Read through the <a href="https://laravel.com/docs/5.5/blade" target="_blank">Blade docs</a> and maybe you&apos;ll discover something<span class="widont">&#xA0;</span>new</p>
</li>
<li><p>Read through the <a href="https://discourse.roots.io/t/best-practice-resources-for-blade/8341" target="_blank">Best Practice / Resources for Blade thread</a> from Roots Discourse or share something you&apos;ve come across or<span class="widont">&#xA0;</span>made!</p>
</li>
<li><p>Use <a href="https://github.com/Log1x/blade-svg-sage" target="_blank">blade-svg-sage</a> to easily use <span class="caps">SVG</span>&apos;s as either inline or with<span class="widont">&#xA0;</span>sprites</p>
</li>
</ul>

          
          <!--  -->
        

        
          
            
              <a href="./index.html" class="navigation navigation-prev " aria-label="Previous page: Customizing templates">
            
            <i class="fa fa-angle-left"></i>
          </a>
          
          
            
              <a href="template-files.html" class="navigation navigation-next " aria-label="Next page: Template files">
            
            <i class="fa fa-angle-right"></i>
          </a>
          
        

      
    </article>

    <script>
      var gitbook = gitbook || [];
      gitbook.push(function() {
        gitbook.page.hasChanged({"page":{"title":"Blade templates","level":"1.5.1","depth":2,"next":{"title":"Template files","level":"5.2","depth":2,"path":"chapters/04-customizing-templates/template-files.md","ref":"chapters/04-customizing-templates/template-files.md","articles":[]},"previous":{"title":"Customizing templates","level":"5","depth":1,"path":"chapters/04-customizing-templates/README.md","ref":"chapters/04-customizing-templates/README.md","articles":[{"title":"Blade templates","level":"5.1","depth":2,"path":"chapters/04-customizing-templates/blade-templates.md","ref":"chapters/04-customizing-templates/blade-templates.md","articles":[]},{"title":"Template files","level":"5.2","depth":2,"path":"chapters/04-customizing-templates/template-files.md","ref":"chapters/04-customizing-templates/template-files.md","articles":[]},{"title":"Building template partials","level":"5.3","depth":2,"path":"chapters/04-customizing-templates/building-template-partials.md","ref":"chapters/04-customizing-templates/building-template-partials.md","articles":[]},{"title":"Responsive images & post thumbnails","level":"5.4","depth":2,"path":"chapters/04-customizing-templates/responsive-images-and-post-thumbnails.md","ref":"chapters/04-customizing-templates/responsive-images-and-post-thumbnails.md","articles":[]},{"title":"Displaying the sidebar","level":"5.5","depth":2,"path":"chapters/04-customizing-templates/sidebar.md","ref":"chapters/04-customizing-templates/sidebar.md","articles":[]}]},"dir":"ltr"},"config":{"gitbook":"*","theme":"./theme","variables":{},"plugins":["advanced-emoji","typogr","styles-sass","scripts","-fontsettings","-search","-lunr","-sharing"],"pluginsConfig":{"advanced-emoji":{"embedEmojis":false},"typogr":{},"styles-sass":{},"scripts":{},"highlight":{},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"website-1522296907282.css","ebook":"ebook-1522296907543.css","pdf":"pdf-1522296907546.css","epub":"assets/styles/epub.css"}},"file":{"path":"chapters/04-customizing-templates/blade-templates.md","mtime":"2018-02-07T01:03:14.000Z","type":"markdown"},"gitbook":{"version":"3.2.2","time":"2018-03-29T04:15:03.784Z"},"basePath":"../..","book":{"language":""}});
      });
    </script>
  </main>
</div>

    
  

  </body>
</html>

