
<!DOCTYPE HTML>
<html lang="" >
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="robots" content="noindex, nofollow">
    <title>WordPress Customizer | GitBook</title>
    <meta name="description" content="">
    
    
    
  
      
        
          <link rel="stylesheet" href="../../gitbook/gitbook-plugin-advanced-emoji/emoji-website.css">
        
      
        
          <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
        
      
    

  

  
    
      <link rel="stylesheet" href="../../website-1522296907282.css">
    
  
    
  
    
  
    
  

    
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="shortcut icon" href="../../assets/images/favicon.ico" type="image/x-icon">

  
    <link rel="next" href="advanced-custom-fields.html">
  
  
    <link rel="prev" href="./">
  

  </head>
  <body>
    
<div class="wrap">
  <main class="book">
    <aside class="book-summary">
      
        
        
          <nav role="navigation">
            


<ol class="summary">
  
  

  

  
    
    
  
    <li class="chapter " data-level="1" data-path="../../">
      
        
          <a href="../../index.html">
        
      
      
      Introduction
      
        </a>
      

      
    </li>
  
    <li class="chapter " data-level="2" data-path="../01-what-is-sage/">
      
        
          <a href="../01-what-is-sage/index.html">
        
      
      
      What is Sage?
      
        </a>
      

      
    </li>
  
    <li class="chapter " data-level="3" data-path="../02-why-sage/">
      
        
          <a href="../02-why-sage/index.html">
        
      
      
      Why Sage?
      
        </a>
      

      
    </li>
  
    <li class="chapter " data-level="4" data-path="../03-starting-a-project/">
      
        
          <a href="../03-starting-a-project/index.html">
        
      
      
      Starting a project
      
        </a>
      

      
      <ol class="articles">
        
  
    <li class="chapter " data-level="4.1" data-path="../03-starting-a-project/installing-the-sage-starter-theme.html">
      
        
          <a href="../03-starting-a-project/installing-the-sage-starter-theme.html">
        
      
      
      Installing the Sage starter theme
      
        </a>
      

      
    </li>
  
    <li class="chapter " data-level="4.2" data-path="../03-starting-a-project/theme-setup.html">
      
        
          <a href="../03-starting-a-project/theme-setup.html">
        
      
      
      Theme setup
      
        </a>
      

      
    </li>
  
    <li class="chapter " data-level="4.3" data-path="../03-starting-a-project/planning-out-the-theme.html">
      
        
          <a href="../03-starting-a-project/planning-out-the-theme.html">
        
      
      
      Planning out the theme
      
        </a>
      

      
    </li>
  

      </ol>
      
    </li>
  
    <li class="chapter " data-level="5" data-path="../04-customizing-templates/">
      
        
          <a href="../04-customizing-templates/index.html">
        
      
      
      Customizing templates
      
        </a>
      

      
      <ol class="articles">
        
  
    <li class="chapter " data-level="5.1" data-path="../04-customizing-templates/blade-templates.html">
      
        
          <a href="../04-customizing-templates/blade-templates.html">
        
      
      
      Blade templates
      
        </a>
      

      
    </li>
  
    <li class="chapter " data-level="5.2" data-path="../04-customizing-templates/template-files.html">
      
        
          <a href="../04-customizing-templates/template-files.html">
        
      
      
      Template files
      
        </a>
      

      
    </li>
  
    <li class="chapter " data-level="5.3" data-path="../04-customizing-templates/building-template-partials.html">
      
        
          <a href="../04-customizing-templates/building-template-partials.html">
        
      
      
      Building template partials
      
        </a>
      

      
    </li>
  
    <li class="chapter " data-level="5.4" data-path="../04-customizing-templates/responsive-images-and-post-thumbnails.html">
      
        
          <a href="../04-customizing-templates/responsive-images-and-post-thumbnails.html">
        
      
      
      Responsive images & post thumbnails
      
        </a>
      

      
    </li>
  
    <li class="chapter " data-level="5.5" data-path="../04-customizing-templates/sidebar.html">
      
        
          <a href="../04-customizing-templates/sidebar.html">
        
      
      
      Displaying the sidebar
      
        </a>
      

      
    </li>
  

      </ol>
      
    </li>
  
    <li class="chapter " data-level="6" data-path="../05-customizing-the-front-end/">
      
        
          <a href="../05-customizing-the-front-end/index.html">
        
      
      
      Customizing the front-end
      
        </a>
      

      
      <ol class="articles">
        
  
    <li class="chapter " data-level="6.1" data-path="../05-customizing-the-front-end/css-setup-and-organization.html">
      
        
          <a href="../05-customizing-the-front-end/css-setup-and-organization.html">
        
      
      
      CSS setup and organization
      
        </a>
      

      
    </li>
  
    <li class="chapter " data-level="6.2" data-path="../05-customizing-the-front-end/default-css-and-js.html">
      
        
          <a href="../05-customizing-the-front-end/default-css-and-js.html">
        
      
      
      Default CSS and JS
      
        </a>
      

      
    </li>
  
    <li class="chapter " data-level="6.3" data-path="../05-customizing-the-front-end/bootstrap.html">
      
        
          <a href="../05-customizing-the-front-end/bootstrap.html">
        
      
      
      Bootstrap
      
        </a>
      

      
    </li>
  
    <li class="chapter " data-level="6.4" data-path="../05-customizing-the-front-end/browsersync.html">
      
        
          <a href="../05-customizing-the-front-end/browsersync.html">
        
      
      
      Browsersync
      
        </a>
      

      
    </li>
  
    <li class="chapter " data-level="6.5" data-path="../05-customizing-the-front-end/javascript-and-dom-based-routing.html">
      
        
          <a href="../05-customizing-the-front-end/javascript-and-dom-based-routing.html">
        
      
      
      JavaScript and DOM-based routing
      
        </a>
      

      
    </li>
  
    <li class="chapter " data-level="6.6" data-path="../05-customizing-the-front-end/3rd-party-packages.html">
      
        
          <a href="../05-customizing-the-front-end/3rd-party-packages.html">
        
      
      
      3rd party packages
      
        </a>
      

      
    </li>
  
    <li class="chapter " data-level="6.7" data-path="../05-customizing-the-front-end/asset-paths-in-css-and-templates.html">
      
        
          <a href="../05-customizing-the-front-end/asset-paths-in-css-and-templates.html">
        
      
      
      Asset paths in CSS and templates
      
        </a>
      

      
    </li>
  

      </ol>
      
    </li>
  
    <li class="chapter " data-level="7" data-path="../06-theme-functionality/">
      
        
          <a href="../06-theme-functionality/index.html">
        
      
      
      Theme functionality
      
        </a>
      

      
      <ol class="articles">
        
  
    <li class="chapter " data-level="7.1" data-path="../06-theme-functionality/adding-additional-files.html">
      
        
          <a href="../06-theme-functionality/adding-additional-files.html">
        
      
      
      Adding additional files
      
        </a>
      

      
    </li>
  
    <li class="chapter " data-level="7.2" data-path="../06-theme-functionality/namespaces.html">
      
        
          <a href="../06-theme-functionality/namespaces.html">
        
      
      
      Namespaces
      
        </a>
      

      
    </li>
  
    <li class="chapter " data-level="7.3" data-path="../06-theme-functionality/take-advantage-of-newer-php-features.html">
      
        
          <a href="../06-theme-functionality/take-advantage-of-newer-php-features.html">
        
      
      
      Take advantage of newer PHP features
      
        </a>
      

      
    </li>
  

      </ol>
      
    </li>
  
    <li class="chapter " data-level="8" data-path="./">
      
        
          <a href="./index.html">
        
      
      
      Theme customizations
      
        </a>
      

      
      <ol class="articles">
        
  
    <li class="chapter active" data-level="8.1" data-path="wordpress-customizer.html">
      
        
          <a href="wordpress-customizer.html">
        
      
      
      WordPress Customizer
      
        </a>
      

      
    </li>
  
    <li class="chapter " data-level="8.2" data-path="advanced-custom-fields.html">
      
        
          <a href="advanced-custom-fields.html">
        
      
      
      Advanced Custom Fields
      
        </a>
      

      
    </li>
  

      </ol>
      
    </li>
  
    <li class="chapter " data-level="9" data-path="../08-theme-deployment/">
      
        
          <a href="../08-theme-deployment/index.html">
        
      
      
      Theme deployment
      
        </a>
      

      
    </li>
  
    <li class="chapter " data-level="10" data-path="../09-theme-troubleshooting/">
      
        
          <a href="../09-theme-troubleshooting/index.html">
        
      
      
      Theme troubleshooting
      
        </a>
      

      
    </li>
  
    <li class="chapter " data-level="11" data-path="../10-theme-updates-and-maintenance/">
      
        
          <a href="../10-theme-updates-and-maintenance/index.html">
        
      
      
      Theme updates and maintenance
      
        </a>
      

      
    </li>
  
    <li class="chapter " data-level="12" data-path="../11-resources/">
      
        
          <a href="../11-resources/index.html">
        
      
      
      Resources
      
        </a>
      

      
    </li>
  
    <li class="chapter " data-level="13" data-path="../../OUTRO.html">
      
        
          <a href="../.././OUTRO.html">
        
      
      
      Wrapping up
      
        </a>
      

      
    </li>
  
    <li class="chapter " data-level="14" data-path="../../CHANGELOG.html">
      
        
          <a href="../.././CHANGELOG.html">
        
      
      
      CHANGELOG
      
        </a>
      

      
    </li>
  

  
</ul>


          </nav>

          <ul class="list-inline text-xs-center mt-2">
            <li class="list-inline-item"><a href="https://discourse.roots.io/c/sage"><i class="fa fa-2x fa-comment" aria-hidden="true"></i></a></li>
            <li class="list-inline-item"><a href="https://github.com/roots/sage"><i class="fa fa-2x fa-github" aria-hidden="true"></i></a></li>
            <li class="list-inline-item"><a href="https://twitter.com/rootswp"><i class="fa fa-2x fa-twitter" aria-hidden="true"></i></a></li>
          </ul>
        
      
    </aside>

    <article class="book-body">
      

        
          <!-- 


<div class="book-header" role="navigation">
  
</div>



 -->
          <!--  -->
          
            <h1 id="wordpress-customizer">WordPress Customizer</h1>
<p>The WordPress Theme Handbook says, &#x201C;The Customizer is the canonical way to add options to your<span class="widont">&#xA0;</span>theme.&#x201D;</p>
<p>It&#x2019;s a good idea to leverage the Customizer <span class="caps">API</span> when adding theme options. To use the Customizer <span class="caps">API</span> in a Sage based theme, start with the <code>app/admin.php</code> and <code>assets/scripts/customizer.js</code> files.</p>
<p>Use <code>app/admin.php</code> to add sections, settings, and controls to the theme customizer. When adding settings, make sure to define <code>postMessage</code> support in order to enable the live<span class="widont">&#xA0;</span>preview.</p>
<p>You&#x2019;re also set up with a base to start adding your own panels, controls, and live refresh functionality to the theme customizer with the <code>assets/scripts/customizer.js</code> file.</p>
<p><img align="absmiddle" alt=":link:" class="emoji" src="../../gitbook/gitbook-plugin-advanced-emoji/emojis/link.png" title=":link:"> See the resources chapter for recommended content on learning more about the<span class="widont">&#xA0;</span>customizer!</p>
<h2 id="customizing-the-customizer">Customizing the customizer</h2>
<p>You can rename the sections and change the priority for WordPress core&#x2019;s existing<span class="widont">&#xA0;</span>controls:</p>
<pre><code class="lang-php"><span class="hljs-comment">// @ app/admin.php within `customize_register`</span>

<span class="hljs-comment">// Rename &apos;Site Title &amp; Tagline&apos; to &#x2018;Branding&apos;</span>
$wp_customize-&gt;get_section(<span class="hljs-string">&apos;title_tagline&apos;</span>)-&gt;title = __(<span class="hljs-string">&apos;Branding&apos;</span>, <span class="hljs-string">&apos;sage&apos;</span>);
$wp_customize-&gt;get_section(<span class="hljs-string">&apos;title_tagline&apos;</span>)-&gt;priority = <span class="hljs-number">1</span>;
</code></pre>
<p>You can also remove core controls easily. If you&#x2019;ve enabled <a href="https://codex.wordpress.org/Custom_Backgrounds#Adding_Theme_Support" target="_blank">custom backgrounds</a>, you might want to remove some of the existing options and add your own. The following code is going to add a new control for &#x2018;Background Size&#x2019; with an option for<span class="widont">&#xA0;</span>&#x2018;cover&#x2019;:</p>
<pre><code class="lang-php"><span class="hljs-comment">// @ app/admin.php within `customize_register`</span>

$wp_customize-&gt;add_setting(<span class="hljs-string">&apos;background_size&apos;</span>, [
    <span class="hljs-string">&apos;type&apos;</span>      =&gt; <span class="hljs-string">&apos;option&apos;</span>,
    <span class="hljs-string">&apos;default&apos;</span>   =&gt; <span class="hljs-string">&apos;auto&apos;</span>,
    <span class="hljs-string">&apos;transport&apos;</span> =&gt; <span class="hljs-string">&apos;postMessage&apos;</span>
]);
$wp_customize-&gt;add_control(<span class="hljs-string">&apos;background_size&apos;</span>, [
    <span class="hljs-string">&apos;label&apos;</span>      =&gt; __(<span class="hljs-string">&apos;Background Size&apos;</span>, <span class="hljs-string">&apos;sage&apos;</span>),
    <span class="hljs-string">&apos;section&apos;</span>    =&gt; <span class="hljs-string">&apos;background_image&apos;</span>,
    <span class="hljs-string">&apos;type&apos;</span>       =&gt; <span class="hljs-string">&apos;radio&apos;</span>,
    <span class="hljs-string">&apos;choices&apos;</span>    =&gt; [
        <span class="hljs-string">&apos;auto&apos;</span>  =&gt; __(<span class="hljs-string">&apos;Default&apos;</span>, <span class="hljs-string">&apos;sage&apos;</span>),
        <span class="hljs-string">&apos;cover&apos;</span> =&gt; __(<span class="hljs-string">&apos;Cover&apos;</span>, <span class="hljs-string">&apos;sage&apos;</span>)
    ]
]);
$wp_customize-&gt;remove_control(<span class="hljs-string">&apos;background_position_x&apos;</span>);
$wp_customize-&gt;remove_control(<span class="hljs-string">&apos;background_attachment&apos;</span>);
</code></pre>
<p>In order to get the new background size setting working with the live preview, add the following within the <code>assets/scripts/customizer.js</code> file:</p>
<pre><code class="lang-js">wp.customize(<span class="hljs-string">&apos;background_size&apos;</span>, (value) =&gt; {
  value.bind(to =&gt; $(<span class="hljs-string">&apos;head&apos;</span>).append(<span class="hljs-string">`&lt;style&gt;body { background-size: <span class="hljs-subst">${to}</span>; }&lt;/style&gt;`</span>));
});
</code></pre>
<p>One last change is needed to get the new styling output on the<span class="widont">&#xA0;</span>front-end:</p>
<pre><code class="lang-php"><span class="hljs-comment">// @ app/admin.php</span>

<span class="hljs-comment">// Print styles</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">print_styles</span><span class="hljs-params">()</span> </span>{
    $background_image = get_theme_mod(<span class="hljs-string">&apos;background_image&apos;</span>, <span class="hljs-string">&apos;&apos;</span>);
    $background_size = get_option(<span class="hljs-string">&apos;background_size&apos;</span>, <span class="hljs-string">&apos;&apos;</span>);
<span class="hljs-meta">?&gt;</span>
  &lt;style&gt;
    <span class="hljs-meta">&lt;?php</span> <span class="hljs-keyword">if</span> ($background_image &amp;&amp; $background_size) { <span class="hljs-meta">?&gt;</span>
      body {
        background-size: <span class="hljs-meta">&lt;?</span>= $background_size; <span class="hljs-meta">?&gt;</span>;
      }
    <span class="hljs-meta">&lt;?php</span> } <span class="hljs-meta">?&gt;</span>
  &lt;/style&gt;
<span class="hljs-meta">&lt;?php</span>
}
add_action(<span class="hljs-string">&apos;wp_head&apos;</span>, <span class="hljs-keyword">__NAMESPACE__</span> . <span class="hljs-string">&apos;\\print_styles&apos;</span>);
</code></pre>

          
          <!--  -->
        

        
          
            
              <a href="./index.html" class="navigation navigation-prev " aria-label="Previous page: Theme customizations">
            
            <i class="fa fa-angle-left"></i>
          </a>
          
          
            
              <a href="advanced-custom-fields.html" class="navigation navigation-next " aria-label="Next page: Advanced Custom Fields">
            
            <i class="fa fa-angle-right"></i>
          </a>
          
        

      
    </article>

    <script>
      var gitbook = gitbook || [];
      gitbook.push(function() {
        gitbook.page.hasChanged({"page":{"title":"WordPress Customizer","level":"1.8.1","depth":2,"next":{"title":"Advanced Custom Fields","level":"8.2","depth":2,"path":"chapters/07-theme-customizations/advanced-custom-fields.md","ref":"chapters/07-theme-customizations/advanced-custom-fields.md","articles":[]},"previous":{"title":"Theme customizations","level":"8","depth":1,"path":"chapters/07-theme-customizations/README.md","ref":"chapters/07-theme-customizations/README.md","articles":[{"title":"WordPress Customizer","level":"8.1","depth":2,"path":"chapters/07-theme-customizations/wordpress-customizer.md","ref":"chapters/07-theme-customizations/wordpress-customizer.md","articles":[]},{"title":"Advanced Custom Fields","level":"8.2","depth":2,"path":"chapters/07-theme-customizations/advanced-custom-fields.md","ref":"chapters/07-theme-customizations/advanced-custom-fields.md","articles":[]}]},"dir":"ltr"},"config":{"gitbook":"*","theme":"./theme","variables":{},"plugins":["advanced-emoji","typogr","styles-sass","scripts","-fontsettings","-search","-lunr","-sharing"],"pluginsConfig":{"advanced-emoji":{"embedEmojis":false},"typogr":{},"styles-sass":{},"scripts":{},"highlight":{},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"website-1522296907282.css","ebook":"ebook-1522296907543.css","pdf":"pdf-1522296907546.css","epub":"assets/styles/epub.css"}},"file":{"path":"chapters/07-theme-customizations/wordpress-customizer.md","mtime":"2018-03-29T03:59:20.000Z","type":"markdown"},"gitbook":{"version":"3.2.2","time":"2018-03-29T04:15:03.784Z"},"basePath":"../..","book":{"language":""}});
      });
    </script>
  </main>
</div>

    
  

  </body>
</html>

